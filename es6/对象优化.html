<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--******************************************函数优化**************************************************-->
    <script>
        // *******************************新增API*********************************
        /*
            ES6给Object扩展了许多新的方法，如：
                keys(obj)：获取对象的所有key形成的数组
                values(obj)：获取对象的所有value形成的数组
                entries(obj)：获取对象的所有key和value 形成的二维数组。格式：`[[k1,v1],[k2,v2],...]`
                assign(dest,...src)：将多个src对象的值拷贝到dest中。（第一层为深拷贝，第二层为浅拷贝）

        */
       const person = {
           name: "LiMing",
           age: 18,
           languages: ['Java','C','MySQL']
       }

       console.log(Object.keys(person));  //  ['name', 'age', 'languages']
       console.log(Object.values(person)); //  ['LiMing', 18, Array(3)]
       console.log(Object.entries(person));  // [Array(2), Array(2), Array(2)]

       const target = {
           a: 1
       };

       const source1 = {
           b: 1
       };

       const source2 = {
           c: 1
       };
       //  方法的第一个参数是目标对象，后面的参数都是源对象
       Object.assign(target,source1,source2);
       console.log(target);  // {a: 1, b: 1, c: 1}

       // 2）声明对象简写
       const age = 23;
       const name = "张三"
       // 传统写法
       const person1 = {age:age,name:name};
       console.log(person1);  // {age: 23, name: '张三'}
       // 在ES6中，如果属性名和要赋值给属性的变量名相同，则可用下列写法
       const person2 = {age,name};
       console.log(person2);  // {age: 23, name: '张三'}

       // 3）对象的函数属性简写
       let person3 = {
           name: "LiMing",
           // 以前
           eat: function(food){
               console.log(this.name + "在吃" + food);
           },
           // 对象函数简写
           // 箭头函数：this不能使用，想用获取属性值，使用对象.属性
           eat2: food => console.log(person3.name + "在吃" + food),
           // 或者
           eat3(food){
               console.log(this.name + "在吃" + food);
           }
       }

       person3.eat("苹果"); // LiMing在吃苹果
       person3.eat("香蕉"); // LiMing在吃香蕉
       person3.eat("梨");  // LiMing在吃梨

       // 4）对象扩展运算符
       /*
            扩展运算符（...）用于取出参数对象所有可遍历属性然后拷贝到当前对象
       */
       // i) 拷贝对象（深拷贝）
       let person4 = {name: 'Danny',age: 20};
       let someone = {...person4};
       console.log(someone);   // {name: 'Danny', age: 20}

       // ii) 合并对象
       let myAge = {age: 15};
       let myName = {name: 'Jenny',age: 16};
       // 如果两个对象的字段名重复，后面对象字段值会覆盖前面对象的字段值
       let person5 = {...myAge,...myName};  
       console.log(person5);  // {age: 16, name: 'Jenny'}
    </script>
</body>
</html>